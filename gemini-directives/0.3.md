# üì± Sp√©cifications PWA : Projet "Mort ou Vivant ?"

## 1. Objectifs de la PWA
L'objectif est de rendre l'application web installable sur smartphone et fonctionnelle m√™me en cas de coupure r√©seau.
* **Installable :** L'utilisateur peut ajouter l'app sur son √©cran d'accueil (ic√¥ne d√©di√©e, pas de barre d'URL du navigateur).
* **Offline First :** Le jeu doit se charger instantan√©ment, m√™me sans connexion internet (une fois les ressources mises en cache).
* **Immersion :** L'application doit ressembler √† une app native (mode plein √©cran).

## 2. Fichiers Requis
Pour transformer le site en PWA, 3 √©l√©ments techniques doivent √™tre ajout√©s √† la racine du projet :
1.  `manifest.json` : Le fichier d'identit√© de l'application.
2.  `sw.js` (Service Worker) : Le script qui g√®re le cache et le r√©seau.
3.  `icons/` : Un dossier contenant les ic√¥nes de l'application.

## 3. Configuration du Manifeste (`manifest.json`)
Ce fichier JSON d√©crit comment l'application doit s'afficher sur l'OS du t√©l√©phone.

### Propri√©t√©s cl√©s
* **name :** `Mort ou Vivant ?`
* **short_name :** `Mort/Vivant` (nom sous l'ic√¥ne).
* **start_url :** `./index.html`
* **display :** `standalone` (supprime la barre d'adresse et les boutons de navigation du navigateur).
* **background_color :** `#121212` (ou le code hexad√©cimal de ton fond sombre pour √©viter l'√©cran blanc au lancement).
* **theme_color :** `#121212` (couleur de la barre de statut du t√©l√©phone).
* **orientation :** `portrait` (pour forcer le mode vertical).

### Ic√¥nes n√©cessaires
* `icon-192.png` (192x192 px) : Pour l'√©cran d'accueil Android.
* `icon-512.png` (512x512 px) : Pour le splash screen.
* `maskable_icon.png` (optionnel mais recommand√© pour Android r√©cent).

## 4. Strat√©gie du Service Worker (`sw.js`)
Le Service Worker agit comme un proxy entre l'app et le r√©seau.

### Strat√©gie de Cache : "Cache First, Network Fallback"
√âtant donn√© que le jeu est statique :
1.  **Installation :** Le SW t√©l√©charge et met en cache imm√©diat tous les fichiers critiques (`index.html`, `style.css`, `app.js`, `data.json`, `assets/images/`).
2.  **Interception (Fetch) :**
    * Quand l'app demande un fichier, le SW regarde d'abord dans son cache.
    * Si le fichier est pr√©sent -> Il le sert imm√©diatement (vitesse max).
    * Si absent -> Il tente de le t√©l√©charger sur Internet.

### Gestion des images externes
* *Attention :* Si les images des c√©l√©brit√©s proviennent d'URL externes (Wikipedia, Allocin√©), elles ne seront disponibles hors ligne que si l'utilisateur les a d√©j√† vues une fois (cache dynamique).
* *Recommandation :* Pour une PWA 100% fiable, privil√©gier le t√©l√©chargement des images en local dans un dossier `/img`.

## 5. Modifications du Code Existant
### Dans `index.html`
Il faudra ajouter les balises suivantes dans le `<head>` :

```html
<link rel="manifest" href="manifest.json">

<meta name="theme-color" content="#121212">
<link rel="apple-touch-icon" href="icons/icon-192.png">

<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('./sw.js')
        .then(reg => console.log('SW enregistr√© !'))
        .catch(err => console.log('Erreur SW :', err));
    });
  }
</script>